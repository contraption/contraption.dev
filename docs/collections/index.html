<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="description" content="A PHP collections component using optimal data structures">

        <meta property="og:site_name" content="Contraption"/>
        <meta property="og:title" content="Collections | Contraption"/>
        <meta property="og:description" content="A PHP collections component using optimal data structures"/>
        <meta property="og:url" content="https://contraption.dev/docs/collections"/>
        <meta property="og:image" content="/assets/img/logo.png"/>
        <meta property="og:type" content="website"/>

        <meta name="twitter:image:alt" content="Contraption">
        <meta name="twitter:card" content="summary_large_image">

        
        <title>Contraption | Collections</title>

        <link rel="home" href="https://contraption.dev">
        <link rel="icon" href="/favicon.ico">

        
                    <!-- Insert analytics code here -->
        
        <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i,800,800i" rel="stylesheet">
        <link rel="stylesheet" href="/assets/build/css/main.css?id=26ed1e3cf5612aaba5b7">

            </head>

    <body class="flex flex-col justify-between min-h-screen bg-gray-100 text-gray-800 leading-normal font-sans">
        <header class="flex items-center shadow bg-white border-b h-24 mb-8 py-4" role="banner">
            <div class="container flex items-center max-w-8xl mx-auto px-4 lg:px-8">
                <div class="flex items-center">
                    <a href="/" title="Contraption home" class="inline-flex items-center">
                        <img class="h-8 md:h-10 mr-3" src="/assets/img/logo.svg" alt="Contraption logo" />

                        <h1 class="text-lg md:text-2xl text-blue-900 font-semibold hover:text-blue-600 my-0 pr-4">Contraption</h1>
                    </a>
                </div>

                <div class="flex flex-1 justify-end items-center text-right md:pl-10">
                                    </div>
            </div>

                <button class="flex justify-center items-center bg-blue-500 border border-blue-500 h-10 mr-4 px-5 rounded-full lg:hidden focus:outline-none"
    onclick="navMenu.toggle()"
>
    <svg id="js-nav-menu-show" xmlns="http://www.w3.org/2000/svg"
        class="fill-current text-white h-9 w-4" viewBox="0 0 32 32"
    >
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
    </svg>

    <svg id="js-nav-menu-hide" xmlns="http://www.w3.org/2000/svg"
        class="hidden fill-current text-white h-9 w-4" viewBox="0 0 36 30"
    >
        <polygon points="32.8,4.4 28.6,0.2 18,10.8 7.4,0.2 3.2,4.4 13.8,15 3.2,25.6 7.4,29.8 18,19.2 28.6,29.8 32.8,25.6 22.2,15 "/>
    </svg>
</button>

        </header>

        <main role="main" class="w-full flex-auto">
            <section class="container max-w-8xl mx-auto px-6 md:px-8 py-4">
    <div class="flex flex-col lg:flex-row">
        <nav id="js-nav-menu" class="nav-menu hidden lg:block">
            <ul class="my-0">
            <li class="pl-4">
            
        <a href="/docs/getting-started"
            class="lvl0   nav-menu__item hover:text-blue-500"
        >
            Getting Started
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/collections"
            class="lvl0  active font-semibold text-blue-500 nav-menu__item hover:text-blue-500"
        >
            Collections
        </a>
    
            
        <ul class="my-0">
            <li class="pl-4">
            
        <a href="/docs/collections/maps"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Maps
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/collections/sequences"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Sequences
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/collections/queues"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Queues
        </a>
    
    </li>
            <li class="pl-4">
            
        <a href="/docs/collections/stacks"
            class="lvl1   nav-menu__item hover:text-blue-500"
        >
            Stacks
        </a>
    
    </li>
    </ul>
    </li>
    </ul>
        </nav>

        <div class="DocSearch-content w-full lg:w-3/5 break-words pb-16 lg:pl-4" v-pre>
            <h1>Collections</h1>

<p>The Collections component provides a fluent wrapper for working with different sets of data. Each collection uses a 
data-structure provided by the <a href="https://www.php.net/manual/en/book.ds.php">Data Structures extension for PHP</a>, instead of
an array.</p>

<h2>Installation</h2>

<p>This package depends on <a href="https://www.php.net/manual/en/ds.installation.php">ext-ds</a>, so you will need to install that 
first. The easiest way is using pecl.</p>

<pre><code>pecl install ds
</code></pre>

<p>This package is bundled with the standard Contraption framework, but if you wish to use the component outside of the
framework, you can install it using composer.</p>

<pre><code>composer require contraption/collections
</code></pre>

<h2>Usage</h2>

<p>There are four main collections provided by this component. They are the map, sequence, queue and stack.</p>

<h3>Map</h3>

<p>A map is a collection of key-value pairs, and functions almost identically to an array. The key can be any type, even objects,
but must be unique.</p>

<p>You can create a new map by instantiating the following class.</p>

<pre><code>\Contraption\Collections\Map
</code></pre>

<p>Alternatively you can use the <code>Contraption\Collections\Collections</code> helper class.</p>

<pre><code class="language-php">$map = Collections::map([
    'key1' =&gt; 'value1',
    'key2' =&gt; 'value2'
]);
</code></pre>

<p><a href="/docs/collections/maps">Read more here</a></p>

<h4>Immutable Variation</h4>

<p>There is an immutable version of the map collection <code>\Contraption\Collections\ImmutableMap</code>. You can create a new
instance of this class, as well as using the <code>Collections::immutableMap()</code> method on the collections helper. A
<code>LogicException</code> is thrown if you attempt to modify the collection.</p>

<blockquote>
  <p>Tip: You can turn a mutable map into an immutable by calling the <code>immutable()</code> method.</p>
</blockquote>

<h3>Sequence</h3>

<p>A sequence is a collection of values arranged in a single dimension, similar to a List found in other languages. It 
functions almost identically to an array using incremental integer keys, with the following exceptions;</p>

<ul>
<li>Values will always be indexed as <code>[0, 1, 2, â€¦, size - 1]</code>.</li>
<li>Removing or inserting updates the position of all successive values.</li>
<li>Only allowed to access values by index in the range <code>[0, size - 1]</code>.</li>
</ul>

<p>You can create a new sequence by instantiating the following class.</p>

<pre><code>\Contraption\Collections\Sequence
</code></pre>

<p>Alternatively you can use the <code>Contraption\Collections\Collections</code> helper class.</p>

<pre><code class="language-php">$map = Collections::sequence([
    'value1', 'value2'
]);
</code></pre>

<p><a href="/docs/collections/sequences">Read more here</a></p>

<h4>Immutable Variation</h4>

<p>There is an immutable version of the sequence collection <code>\Contraption\Collections\ImmutableSequence</code>. You can create a new
instance of this class, as well as using the <code>Collections::immutableSequence()</code> method on the collections helper. A
<code>LogicException</code> is thrown if you attempt to modify the collection.</p>

<blockquote>
  <p>Tip: You can turn a mutable sequence into an immutable by calling the <code>immutable()</code> method.</p>
</blockquote>

<h3>Queue</h3>

<p>A queue is a first in, first out collection that only allows access to the value at the front of the queue. It iterates
over the values destructively, so each time you retrieve an item it is removed from the collection.</p>

<p>You can create a new queue by instantiating the following class.</p>

<pre><code>\Contraption\Collections\Queue
</code></pre>

<p>Alternatively you can use the <code>Contraption\Collections\Collections</code> helper class.</p>

<pre><code class="language-php">$map = Collections::queue([
    'value1', 'value2'
]);
</code></pre>

<p><a href="/docs/collections/queues">Read more here</a></p>

<h3>Stack</h3>

<p>A Stack is similiar to a Queue, but is last in, first out, only allowing access to the value at the top of the stack.</p>

<p>You can create a new stack by instantiating the following class.</p>

<pre><code>\Contraption\Collections\Stack
</code></pre>

<p>Alternatively you can use the <code>Contraption\Collections\Collections</code> helper class.</p>

<pre><code class="language-php">$map = Collections::stack([
    'value1', 'value2'
]);
</code></pre>

<p><a href="/docs/collections/stacks">Read more here</a></p>
        </div>
    </div>
</section>
        </main>

        <script src="/assets/build/js/main.js?id=081470c930e90325d380"></script>

        <script>
    const navMenu = {
        toggle() {
            const menu = document.getElementById('js-nav-menu');
            menu.classList.toggle('hidden');
            menu.classList.toggle('lg:block');
            document.getElementById('js-nav-menu-hide').classList.toggle('hidden');
            document.getElementById('js-nav-menu-show').classList.toggle('hidden');
        },
    }
</script>

        <footer class="bg-white text-center text-sm mt-12 py-4" role="contentinfo">
            <ul class="flex flex-col md:flex-row justify-center">
                <li class="md:mr-2">
                    &copy; <a href="https://tighten.co" title="Tighten website">Sprocketbox</a> 2020.
                </li>

                <li>
                    Built with <a href="http://jigsaw.tighten.co" title="Jigsaw by Tighten">Jigsaw</a>
                    and <a href="https://tailwindcss.com" title="Tailwind CSS, a utility-first CSS framework">Tailwind CSS</a>.
                </li>
            </ul>
        </footer>
    </body>
</html>
